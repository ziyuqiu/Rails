<p id="notice"><%= notice %></p>

<h1>Search</h1>

  <div class="input-group">
    <%= form_tag(search_path, method: :post, id: "search-form", remote: true) do %>
      <%= text_field_tag :phrase, params[:phrase], placeholder: "Search", id:"phrase" %>
      <%= submit_tag "Search"%>
    <% end %>
  </div>


</br>

  <div id= "display">
    <%= render "result"%>
  </div>
  
  </br>




<button type="button" class="btn btn-default"><%= link_to 'New Course', new_course_path %></button>

<script>
  $('#phrase').on('keyup', ajaxSubmitSearchForm);
  $('#search-form').on('submit', function(e) {
    e.preventDefault();
    ajaxSubmitSearchForm();
  })    
  function ajaxSubmitSearchForm(){
    $.ajax({
      url: $('#search-form').attr('action'),
      type: 'POST',
      dataType: "json",
      data: $('#search-form').serialize(),
      success: function (data) {

        $('#display').html(data.content);
      },
      complete: function (data) {
        console.log(data)
      }
    });
  }
</script>